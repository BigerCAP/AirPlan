<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>AirPlan - A biger solution</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Jeff"><meta name=description content="A biger solution,TiDB AirPlan"><meta name=keywords content="TiDB,AirPlan,TiDB OPS,tidb-operator,2pc,raft,databases,mysql,htap"><meta name=generator content="Hugo 0.110.0 with theme even"><link rel=canonical href=https://ap.biger.cc/><link href=https://ap.biger.cc/index.xml rel=alternate type=application/rss+xml title="AirPlan - A biger solution"><link href=https://ap.biger.cc/index.xml rel=feed type=application/rss+xml title="AirPlan - A biger solution"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<link href=/dist/even.04bd84cd.min.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="AirPlan - A biger solution"><meta property="og:description" content="A biger solution,TiDB AirPlan"><meta property="og:type" content="website"><meta property="og:url" content="https://ap.biger.cc/"><meta itemprop=name content="AirPlan - A biger solution"><meta itemprop=description content="A biger solution,TiDB AirPlan"><meta name=twitter:card content="summary"><meta name=twitter:title content="AirPlan - A biger solution"><meta name=twitter:description content="A biger solution,TiDB AirPlan"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>AirPlan</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/post/><li class=mobile-menu-item>Blog</li></a><a href=/look/><li class=mobile-menu-item>Look</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>AirPlan</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/post/>Blog</a></li><li class=menu-item><a class=menu-item-link href=/look/>Look</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><section id=posts class=posts><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20200323-13-teamview/>使用软件时强制升级的设计</a></h1><div class=post-meta><span class=post-time>2020-03-23</span><div class=post-category><a href=/categories/software/>software</a></div><span class=more-meta>982 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 看到 工作需要经常用到 teamviewer 远程桌面工具处理问题，曾也用过向日葵、QQ 远程等类似工具，但都不如该工具的流畅性和稳定性。 最近两年使用该工具有两个不</div><div class=read-more><a href=/post/20200323-13-teamview/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20200321-12-lvm/>Linux - 可大可小的 LVM</a></h1><div class=post-meta><span class=post-time>2020-03-21</span><div class=post-category><a href=/categories/software/>software</a></div><span class=more-meta>1088 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 理由 接触了个客户环境，物理机磁盘使用的 LVM 方式划分。0202 年了还有公司大量使用该方式规划存储，被迫只能拿起来再复习下这项技术的使用姿势、追</div><div class=read-more><a href=/post/20200321-12-lvm/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20200311-11-performance-map/>纸上谈兵 - TiDB 性能调优</a></h1><div class=post-meta><span class=post-time>2020-03-11</span><div class=post-category><a href=/categories/tidb/>TiDB</a></div><span class=more-meta>1128 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 缘 妙不可言 开局一张图，其他全靠编。本文内容中 performance map 基于 TiDB 2.1 & TiDB 3.0 构建；部分内容与新版本不适配，具体以官方解释为准（e.g: TiDB 4.0 Titan engine 读写与本文</div><div class=read-more><a href=/post/20200311-11-performance-map/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20200108-2-github-hugo-actions/>生态围墙 - Github Actions & Hugo</a></h1><div class=post-meta><span class=post-time>2020-01-08</span><div class=post-category><a href=/categories/software/>software</a></div><span class=more-meta>3056 words</span>
<span class=more-meta>7 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 上帝说有光 目标：持续 tidb.cc 域名的运转 初衷：让更多的人了解 xxxx 产品 内核：提升自身技能以及建立良性记录 动力：装逼 助力 OKR、分享与讨论技术的真实性、</div><div class=read-more><a href=/post/20200108-2-github-hugo-actions/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20200102-1-tidb-haproxy-real-ip/>TiDB & Haproxy / show processlist View real IP</a></h1><div class=post-meta><span class=post-time>2020-01-02</span><div class=post-category><a href=/categories/tidb/>TiDB</a>
<a href=/categories/software/>Software</a></div><span class=more-meta>3114 words</span>
<span class=more-meta>7 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 - 背景 高可用性（英语：high availability，缩写为 HA）测试 failpoint 场景，需要在服务前面添加 load balance 组件；比如 F5、LVS、Haprox</div><div class=read-more><a href=/post/20200102-1-tidb-haproxy-real-ip/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20191008-41-dm-faq/>总结 - Data Migration（数据同步）</a></h1><div class=post-meta><span class=post-time>2019-10-08</span><div class=post-category><a href=/categories/troubleshooting/>Troubleshooting</a></div><span class=more-meta>1791 words</span>
<span class=more-meta>4 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 开局 本文仅记录了对 DM 的学习，处理问题经验慢慢补充（没有素材编场景） 版本使用从 RC 到 v1.0.3 ；架构整体变化不大，有着上纲上线的框架守护 本页内容没有干</div><div class=read-more><a href=/post/20191008-41-dm-faq/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20190606-23-backoff/>TiDB - 2PC & Backoff</a></h1><div class=post-meta><span class=post-time>2019-06-05</span><div class=post-category><a href=/categories/tidb/>TiDB</a></div><span class=more-meta>696 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 源 TiDB to TiKV 之间的网络状态(图片来自与 PingCAP 官网锁冲突)「该图包含悲观锁逻辑，来自 2020 年的 PingCAP 官网」；部分内容来自 Google Percolator 的事务模型。 0x01 2PC 2PC (Two-phaseCommit) 是指在计算机</div><div class=read-more><a href=/post/20190606-23-backoff/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20190313-11-numactl/>系统调优 - numactl cpubind</a></h1><div class=post-meta><span class=post-time>2019-03-13</span><div class=post-category><a href=/categories/software/>software</a></div><span class=more-meta>1043 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 CCC 单个不够，数量来凑，太多人跑也会不规划好跑道容易干架；使用 Linux 软件 numactl 将服务进程绑定在目标 CPU 上，支持按 Vcore、物理 CPU 绑定。 0x01 numactl numactl &ndash;show 查看当</div><div class=read-more><a href=/post/20190313-11-numactl/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20190306-10-precheck/>入库检查 - 物理机 & 系统安装数据库前预检查</a></h1><div class=post-meta><span class=post-time>2019-03-06</span><div class=post-category><a href=/categories/software/>software</a></div><span class=more-meta>2625 words</span>
<span class=more-meta>6 mins read</span></div></header><div class=post-content><div class=post-summary>0x01 precheck 本篇文档产生原因来自 Step 7: Configure the CPUfreq governor mode on the target machine 根据 TiDB-ansible 安装时的报错反推物理机安装 TiDB 时需要干点啥…… 0x02 OS 结合官方文档 使用 TiDB Ansible 部署 TiDB 集群 文档先整理</div><div class=read-more><a href=/post/20190306-10-precheck/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20190201-5-pd-tso/>序列化事物 ID 策略 - TSO</a></h1><div class=post-meta><span class=post-time>2019-02-01</span><div class=post-category><a href=/categories/tidb/>TiDB</a></div><span class=more-meta>768 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 院子 MySQL 有个东东的叫 GTID（GTID = server_uuid:transaction_id）；它在 Binlog 文件中大概长这样【3E11FA55-7</div><div class=read-more><a href=/post/20190201-5-pd-tso/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20181126-48-not-leader/>School - TiKV not leader</a></h1><div class=post-meta><span class=post-time>2018-11-26</span><div class=post-category><a href=/categories/troubleshooting/>troubleshooting</a></div><span class=more-meta>736 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 监控 使用云机房物理机设备组建同城三中心方式部署 部署时已知 idc3 与其他两个机房 ping latency 稍高，大约在 1 - 3 ms 之间，idc1 与 idc2 机房延迟稳定在 1ms 以内 0x01 架</div><div class=read-more><a href=/post/20181126-48-not-leader/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20181029-44-binlog-tso/>School - Binlog & TSO</a></h1><div class=post-meta><span class=post-time>2018-10-29</span><div class=post-category><a href=/categories/troubleshooting/>troubleshooting</a></div><span class=more-meta>1522 words</span>
<span class=more-meta>4 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 事前 维护该 Binlog 架构下的问题之一 “GC 数据问题” 0x01 FAQ-1 某天巡检发现以下现象，pump 还在工作、Drainer 写入出现中断 查看 Drainer 日志 1 2 3 4 5 6 pump.go:433:</div><div class=read-more><a href=/post/20181029-44-binlog-tso/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20180824-34-region-spilt/>School - TiDB Region Spilt</a></h1><div class=post-meta><span class=post-time>2018-08-24</span><div class=post-category><a href=/categories/troubleshooting/>troubleshooting</a></div><span class=more-meta>813 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 元 收到监控 & 业务告警，内容为目前 QPS duration > 1s 首先排查监控缩小范围 交叉信息判定为 region 超过 144mb 以后未分裂，造成 get snapshot 持续失败，同时 region 过大造成写入和读取数</div><div class=read-more><a href=/post/20180824-34-region-spilt/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20190116-3-ddl-history/>School - TiDB table info & DDL history</a></h1><div class=post-meta><span class=post-time>2018-08-24</span><div class=post-category><a href=/categories/troubleshooting/>troubleshooting</a></div><span class=more-meta>1039 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 元 tidb ddl 3.0 版本之前只有一个队列提供服务，所有 ddl 都要在这个队列阻塞 多个 TiDB-server 会先选举 DDL owner TiDB 配置文件中的 run-ddl = false 该节点不支持运行 DDL DDL owner 处理所有 DDL 信息 更</div><div class=read-more><a href=/post/20190116-3-ddl-history/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/post/20180807-32-write-stall/>School - TiKV write stall</a></h1><div class=post-meta><span class=post-time>2018-08-07</span><div class=post-category><a href=/categories/troubleshooting/>troubleshooting</a></div><span class=more-meta>605 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>0x00 告警 TiDB 与 TiKV 出现大量 backoff；触发 backoff 告警阈值 相应时间段 tidb kv error 监控趋势升高 相应时间段 tikv thread cpu / apply cpu 监控趋势升高 1 2 3 4 5 6 7 8 9 10 11 12 13 14</div><div class=read-more><a href=/post/20180807-32-write-stall/ class=read-more-link>Read more...</a></div></div></article></section><nav class=pagination><a class=prev href=/><i class="iconfont icon-left"></i>
<span class=prev-text>Prev</span></a>
<a class=next href=/page/3/><span class=next-text>Next</span>
<i class="iconfont icon-right"></i></a></nav></div></div></main><footer id=footer class=footer><div class=social-links><a href=https://github.com/BigerCAP/TiDB-AirPlan/issues class="iconfont icon-github" title=github></a>
<a href=https://ap.biger.cc/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2017 -
2023
<span class=heart><i class="iconfont icon-heart"></i></span>
<span class=author>DB - AirPlan</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin=anonymous></script>
<script>var languageCode="en".replace(/-/g,"_").replace(/_(.*)/,function(e,t){return e.replace(t,t.toUpperCase())});timeago().render(document.querySelectorAll(".timeago"),languageCode),timeago.cancel()</script><script type=text/javascript src=/dist/even.26188efa.min.js></script></body></html>